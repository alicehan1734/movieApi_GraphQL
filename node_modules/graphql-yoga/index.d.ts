/// <reference types="node" />
import { IncomingMessage, Server as NodeServer, ServerResponse } from 'http';
import { getNodeRequest } from '@ardatan/graphql-helix';
import { Server as BaseServer } from '@graphql-yoga/core';
import type { GraphQLServerInject, ServerOptions } from './types';
import LightMyRequest from 'light-my-request';
import { ExecutionResult } from 'graphql';
declare class Server<TContext> extends BaseServer<TContext> {
    /**
     * Port for server
     */
    private port;
    /**
     * GraphQL Endpoint
     */
    private endpoint;
    /**
     * Hostname for server
     */
    private hostname;
    private _server;
    constructor(options: ServerOptions<TContext>);
    handleIncomingMessage(...args: Parameters<typeof getNodeRequest>): Promise<Response>;
    requestListener: (req: IncomingMessage, res: ServerResponse) => Promise<void>;
    get server(): NodeServer;
    start(callback?: VoidFunction): Promise<void>;
    stop(callback?: (err?: Error) => void): Promise<void>;
    /**
     * Testing utility to mock http request for GraphQL endpoint
     *
     *
     * Example - Test a simple query
     * ```ts
     * const response = await yoga.inject({
     *  document: "query { ping }",
     * })
     * expect(response.statusCode).toBe(200)
     * expect(response.data.ping).toBe('pong')
     * ```
     **/
    inject<TData = any, TVariables = any>({ document, variables, operationName, headers, }: GraphQLServerInject<TData, TVariables>): Promise<{
        response: LightMyRequest.Response;
        executionResult: ExecutionResult<TData>;
    }>;
}
/**
 * Create a simple yet powerful GraphQL server ready for production workloads.
 * Spec compliant server that supports bleeding edge GraphQL features without any vendor lock-ins.
 *
 * Comes baked in with:
 *
 * - Envelop - Plugin system for GraphQL
 * - GraphQL Helix - Extensible and Framework agnostic GraphQL server
 * - GraphiQL - GraphQL IDE for your browser
 * - Pino - Super fast, low overhead Node.js logger
 *
 * Example:
 * ```ts
 *  import { schema } from './schema'
 *   // Provide a GraphQL schema
 *  const server = createServer({ schema })
 *  // Start the server. Defaults to http://localhost:4000/graphql
 *  server.start()
 * ```
 */
export declare function createServer<TContext>(options: ServerOptions<TContext>): Server<TContext>;
export type { ServerOptions } from './types';
export * from '@graphql-yoga/subscription';
export * from '@envelop/core';
export { EnvelopError as GraphQLServerError } from '@envelop/core';
export { renderGraphiQL } from '@ardatan/graphql-helix';
